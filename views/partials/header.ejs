<style>
    /* Garante fonte Lato para elementos dinâmicos (Olá [nome], Botões) igual aos links */
    header .botoes-acao, header .botoes-acao *, header .btn, header .user-welcome-text {
        font-family: var(--font-principal) !important;
        font-size: 18px !important;
    }

    /* Ajuste para área do usuário logado (Desktop) */
    .user-logged-area {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-left: 20px;
    }
    
    header.header-rolagem .user-welcome-text {
        color: #333 !important;
    }
</style>
<header>
    <a href="/" class="logo">
        <img src="/assets/logos/logo-branca.png" alt="Logo da Yelo" class="logo-branca">
        
        <img src="/assets/logos/logo-escura.png" alt="Logo da Yelo" class="logo-escura">
    </a>

    <button class="menu-hamburguer" aria-label="Abrir menu">
        <div class="barra"></div>
        <div class="barra"></div>
        <div class="barra"></div>
    </button>

    <div class="container-navegacao">
        <nav>
            <ul>
                <li><a href="/">Início</a></li>
                <li><a href="/sobre">Sobre</a></li>
                <li><a href="/comunidade">Para Comunidade</a></li>
                <li><a href="/profissionais">Para Profissionais</a></li>
                <li><a href="/faq">FAQ</a></li>
                <li><a href="/blog">Blog</a></li>
            </ul>
        </nav>
        
        <!-- Botões para Visitantes -->
        <div class="botoes-acao" id="guest-actions">
            <a href="/login" class="btn btn-outline">Entrar</a>
            <a href="/cadastro" class="btn btn-solid">Registrar</a>
        </div>

        <!-- Área do Usuário Logado (Oculto por padrão) -->
        <div class="user-logged-area" id="user-logged-actions" style="display: none;">
            <span class="user-welcome-text" style="color: inherit;">Olá, <span id="header-username">Visitante</span></span>
            <a href="#" id="header-dashboard-btn" class="btn btn-solid">Meu Painel</a>
        </div>
    </div>
</header>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const menuBtn = document.querySelector('.menu-hamburguer');
        const navContainer = document.querySelector('.container-navegacao');
        
        if(menuBtn && navContainer) {
            menuBtn.addEventListener('click', () => {
                navContainer.classList.toggle('ativo');
                // Opcional: Alternar ícone ou animar as barras aqui
            });
        }

        // --- LÓGICA DE USUÁRIO LOGADO ---
        const token = localStorage.getItem('Yelo_token');
        const userName = localStorage.getItem('Yelo_user_name');
        const userType = localStorage.getItem('Yelo_user_type'); // 'patient', 'psychologist', 'admin'

        if (token && userName) {
            // 1. Esconde botões de login/registro
            const guestDiv = document.getElementById('guest-actions');
            if (guestDiv) guestDiv.style.display = 'none';

            // 2. Mostra área do usuário
            const userDiv = document.getElementById('user-logged-actions');
            const nameSpan = document.getElementById('header-username');
            const dashBtn = document.getElementById('header-dashboard-btn');

            if (userDiv) userDiv.style.display = 'flex';
            if (nameSpan) nameSpan.textContent = userName.split(' ')[0]; // Apenas o primeiro nome
            
            if (dashBtn) {
                if (userType === 'admin') dashBtn.href = '/admin';
                else if (userType === 'psychologist') dashBtn.href = '/psi/psi_dashboard.html';
                else dashBtn.href = '/patient/patient_dashboard'; // Default para paciente
            }
        }
    });
</script>